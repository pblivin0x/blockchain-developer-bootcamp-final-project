<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ConsenSys Final Project</title>
</head>
<style>

.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}

.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
  font-size: 17px;
}

.tab button:hover {
  background-color: #ddd;
}

.tab button.active {
  background-color: #ccc;
}

.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}
</style>
<body>
    <h1>Social Trading Dapp</h1>

    <!-- Detect if MetaMask is installed -->
    <div id="mm-detected"></div>

    <!-- Allow user access to MetaMask -->
    <button id="mm-connect">Connect to MetaMask</button>
    <div id="mm-current-account"></div>
    <br>

    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'Investor')" id="defaultOpen">Investor</button>
        <button class="tablinks" onclick="openTab(event, 'Operator')">Operator</button>
        <button class="tablinks" onclick="openTab(event, 'Methodologist')">Methodologist</button>
        <button class="tablinks" onclick="openTab(event, 'Social Trader')">Social Trader</button>
    </div>

    <!-- Allow user send a transaction / update contract state -->

    <div id="Investor" class="tabcontent">
        <h2>Investor</h2>

        <h3>Get Required Components for Issue</h3>

        <input id="investor-require-token-input-box" type="text" placeholder="Set Token Address">
        <input id="investor-require-quantity-input-box" type="text" placeholder="Quantity">
        <button id="investor-require-button">Get Required Components</button>

        <h3>Issue</h3>
        <input id="investor-issue-token-input-box" type="text" placeholder="Set Token Address">
        <input id="investor-issue-quantity-input-box" type="number" placeholder="Quantity">
        <input id="investor-issue-to-input-box" type="text" placeholder="User Address">
        <button id="investor-issue-button">Issue Set Tokens</button>

        <h3>Redeem</h3>
        <input id="investor-redeem-token-input-box" type="text" placeholder="Set Token Address">
        <input id="investor-redeem-quantity-input-box" type="number" placeholder="Quantity">
        <input id="investor-redeem-to-input-box" type="text" placeholder="User Address">
        <button id="investor-redeem-button">Redeem Set Tokens</button>
    </div>

    <div id="Operator" class="tabcontent">
        <h2>Operator</h2>

        <h3>Trade</h3>
        <input id="stm-trade-settoken-input-box" type="text" placeholder="Set Token Address">
        <input id="stm-trade-exchange-input-box" type="text" placeholder="Exchange Name">
        <input id="stm-trade-sendtoken-input-box" type="text" placeholder="Token to Send">
        <input id="stm-trade-sendquantity-input-box" type="text" placeholder="Send Quantity">
        <input id="stm-trade-receivetoken-input-box" type="text" placeholder="Token to Receive">
        <input id="stm-trade-receivequantity-input-box" type="text" placeholder="Receive Quantity">
        <button id="stm-trade-input-button">Submit Trade</button>

        <h3>Change Operator</h3>
        <input id="stm-changeoperator-input-box" type="text" placeholder="New Operator Address">
        <button id="stm-changeoperator-input-button">Change Operator</button>
    </div>

    <div id="Methodologist" class="tabcontent">
        <h2>Methodologist</h2>
        
        <h3>Change Streaming Fee</h3>
        <input id="stm-streamingfee-input-box" type="number" placeholder="0">
        <button id="stm-streamingfee-input-button">Update Streaming Fee</button>

        <h3>Change Methodologist</h3>
        <input id="stm-changemethodologist-input-box" type="text" placeholder="New Methodologist Address">
        <button id="stm-changemethodologist-input-button">Change Methodologist</button>
    </div>

    <div id="Social Trader" class="tabcontent">
        <h2>Social Trader</h2>
        
        <h3>Create Set</h3>
        <input id="create-default-set-manager-input-box" type="text" placeholder="Manager Address">
        <input id="create-default-set-weth-input-box" type="number" placeholder="WETH Units">
        <input id="create-default-set-dai-input-box" type="number" placeholder="DAI Units">
        <input id="create-default-set-name-input-box" type="text" placeholder="Set Name">
        <input id="create-default-set-symbol-input-box" type="text" placeholder="Set Symbol">
        <button id="create-default-set-button">Create Set</button>
        <br>
        <div id="created-set-address"></div>

        <h3>Initialize Modules</h3>

        <h4>Basic Issuance Module</h4>

        <input id="initialize-bi-module-input-box" type="text" placeholder="Set Token Address">
        <button id="initialize-bi-module-button">Initialize Module</button>

        <h4>Streaming Fee Module</h4>

        <input id="initialize-sf-module-input-box" type="text" placeholder="Set Token Address">
        <button id="initialize-sf-module-button">Initialize Module</button>

        <h4>Trade Module</h4>

        <input id="initialize-t-module-input-box" type="text" placeholder="Set Token Address">
        <button id="initialize-t-module-button">Initialize Module</button>
    </div>

    <script>
        function openTab(evt, tabName) {
          var i, tabcontent, tablinks;
          tabcontent = document.getElementsByClassName("tabcontent");
          for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
          }
          tablinks = document.getElementsByClassName("tablinks");
          for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
          }
          document.getElementById(tabName).style.display = "block";
          evt.currentTarget.className += " active";
        }
        document.getElementById("defaultOpen").click();
    </script>

    <!-- Allow the user to read state from a contract -->

    <!-- Import JS -->
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="frontend/dapp.js"></script>
</body>
</html>